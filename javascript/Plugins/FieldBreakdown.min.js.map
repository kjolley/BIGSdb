{
"version":3,
"file":"",
"lineCount":43,
"mappings":"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",
"sources":[" [synthetic:base] "," [synthetic:util/defines] "," [synthetic:util/defineproperty] "," [synthetic:util/global] "," [synthetic:util/polyfill] "," [synthetic:es6/object/is] "," [synthetic:es6/array/includes] "," [synthetic:util/checkstringargs] "," [synthetic:es6/string/includes] "," [synthetic:es6/symbol] "," [synthetic:es6/util/iteratorfromarray] "," [synthetic:es6/array/keys] ","FieldBreakdown.js"],
"sourcesContent":["/*\n * Copyright 2012 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * @fileoverview The base namespace for code injected by the compiler\n * at compile-time.\n *\n * @author nicksantos@google.com (Nick Santos)\n */\n\n/** @const */\nvar $jscomp = $jscomp || {};\n\n/** @const Locals for goog.scope */\n$jscomp.scope = {};\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n\n\n/**\n * Whether to assume ES5 is available.  This enables removing several\n * internal polyfills, which must otherwise be detected at runtime.\n * @define {boolean}\n */\n$jscomp.ASSUME_ES5 = false;\n\n/**\n * Whether to skip the conformance check and simply use the polyfill always.\n * @define {boolean}\n */\n$jscomp.ASSUME_NO_NATIVE_MAP = false;\n\n/**\n * Whether to skip the conformance check and simply use the polyfill always.\n * @define {boolean}\n */\n$jscomp.ASSUME_NO_NATIVE_SET = false;\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n * @suppress {reportUnknownTypes}\n */\n'require util/defines';\n\n\n/**\n * Polyfill for Object.defineProperty() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\n *\n * Refuses to define properties on Array.prototype and Object.prototype,\n * since we can't make them non-enumerable and this messes up peoples' for\n * loops.  Beyond this, we simply assign values and not worry\n * about enumerability or writeability.\n * @param {?} target\n * @param {string} property\n * @param {?} descriptor\n * @suppress {reportUnknownTypes}\n */\n$jscomp.defineProperty =\n    $jscomp.ASSUME_ES5 || typeof Object.defineProperties == 'function' ?\n    Object.defineProperty :\n    function(target, property, descriptor) {\n      descriptor = /** @type {!ObjectPropertyDescriptor} */ (descriptor);\n      // NOTE: This is currently never called with a descriptor outside\n      // the control of the compiler.  If we ever decide to polyfill either\n      // Object.defineProperty or Reflect.defineProperty for ES3, we should\n      // explicitly check for `get` or `set` on the descriptor and throw a\n      // TypeError, since it's impossible to properly polyfill it.\n      if (target == Array.prototype || target == Object.prototype) return;\n      target[property] = descriptor.value;\n    };\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Runtime code to store the global object.\n */\n'require base';\n'declare global';\n'declare window';\n\n\n/**\n * @param {!Object} maybeGlobal\n * @return {!Object} The global object.\n * @suppress {undefinedVars|reportUnknownTypes}\n */\n$jscomp.getGlobal = function(maybeGlobal) {\n  return (typeof window != 'undefined' && window === maybeGlobal) ?\n      maybeGlobal :\n      (typeof global != 'undefined' && global != null) ? global : maybeGlobal;\n};\n\n\n// TODO(sdh): This should be typed as \"the global object\", but there's not\n// currently any way to do this in the existing type system.\n/**\n * The global object. For browsers we could just use `this` but in Node that\n * doesn't work.\n * @const {?}\n */\n$jscomp.global = $jscomp.getGlobal(this);\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n */\n'require util/defineproperty';\n'require util/global';\n\n\n/**\n * @param {string} target Qualified name of the class or method to polyfill,\n *     e.g. 'Array.prototype.includes' or 'Map'.\n * @param {?function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.  If null is returned, then no polyfill will be added.  A\n *     null argument for this parameter indicates that the function will not be\n *     polyfilled, and is only useful for `build_polyfill_table.js` bookkeeping.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.  The compiler requires that\n *     `languageOut < fromLang` before injecting a polyfill (i.e. if the\n *     specified output language already includes the feature then there's no\n *     need to polyfill it).\n * @param {string} toLang The language level required by the polyfill\n *     implementation.  The compiler will issue an error if a polyfill is\n *     required, but `languageOut < toLang`.  Additionally, the\n *     `build_polyfill_table.js` script audits the polyfill dependency tree to\n *     ensure that no polyfill with a lower `toLang` depends on one with a\n *     higher `toLang`.\n * @suppress {reportUnknownTypes}\n * @noinline\n * NOTE: We prevent inlining so RemoveUnusedPolyfills can always recognize this\n * call.\n */\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  if (!polyfill) return;\n  var obj = $jscomp.global;\n  var split = target.split('.');\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) obj[key] = {};  // Might want to be defineProperty.\n    obj = obj[key];\n  }\n  var property = split[split.length - 1];\n  var orig = obj[property];\n  var impl = polyfill(orig);\n  if (impl == orig || impl == null) return;\n  $jscomp.defineProperty(\n      obj, property, {configurable: true, writable: true, value: impl});\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/polyfill';\n\n$jscomp.polyfill('Object.is', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Polyfill for Object.is() method:\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   *\n   * Determines whether two values are the same value (that is,\n   * functionally equivalent).  This is the same as ===-equality,\n   * except for two cases: 0 is not the same as -0, and NaN is\n   * the same as NaN.\n   *\n   * @param {*} left\n   * @param {*} right\n   * @return {boolean}\n   */\n  var polyfill = function(left, right) {\n    if (left === right) {\n      // Handle the 0 === -0 exception\n      return (left !== 0) || (1 / left === 1 / /** @type {number} */ (right));\n    } else {\n      // Handle the NaN !== NaN exception\n      return (left !== left) && (right !== right);\n    }\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/object/is';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.includes', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Polyfills Array.prototype.includes.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\n   *\n   * @this {!IArrayLike<T>}\n   * @param {T} searchElement\n   * @param {number=} opt_fromIndex\n   * @return {boolean}\n   * @template T\n   * @suppress {reportUnknownTypes}\n   */\n  var includes = function(searchElement, opt_fromIndex) {\n    var array = this;\n    if (array instanceof String) {\n      array = /** @type {!IArrayLike} */ (String(array));\n    }\n    var len = array.length;\n    for (var i = opt_fromIndex || 0; i < len; i++) {\n      if (array[i] == searchElement || Object.is(array[i], searchElement)) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  return includes;\n}, 'es7', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n\n\n/**\n * Throws if the argument is a RegExp, or if thisArg is undefined.\n * @param {?} thisArg The 'this' arg, which must be defined.\n * @param {*} arg The first argument of the function, which mustn't be a RegExp.\n * @param {string} func Name of the function, for reporting.\n * @return {string} The thisArg, coerced to a string.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.checkStringArgs = function(thisArg, arg, func) {\n  if (thisArg == null) {\n    throw new TypeError(\n        \"The 'this' value for String.prototype.\" + func +\n        ' must not be null or undefined');\n  }\n  if (arg instanceof RegExp) {\n    throw new TypeError(\n        'First argument to String.prototype.' + func +\n        ' must not be a regular expression');\n  }\n  return thisArg + '';\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/checkstringargs';\n'require util/polyfill';\n\n$jscomp.polyfill('String.prototype.includes', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Searches for a substring, starting at the given position.\n   *\n   * <p>Polyfills the instance method String.prototype.includes().\n   *\n   * @this {string}\n   * @param {string} searchString\n   * @param {number=} opt_position\n   * @return {boolean}\n   */\n  var polyfill = function(searchString, opt_position) {\n    'use strict';\n    var string = $jscomp.checkStringArgs(this, searchString, 'includes');\n    return string.indexOf(searchString, opt_position || 0) !== -1;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/defineproperty';\n'require util/global';\n\n/** @const {string} */\n$jscomp.SYMBOL_PREFIX = 'jscomp_symbol_';\n\n\n/**\n * Initializes the Symbol function.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.initSymbol = function() {\n  // Only need to do this once. All future calls are no-ops.\n  $jscomp.initSymbol = function() {};\n\n  if (!$jscomp.global['Symbol']) {\n    $jscomp.global['Symbol'] = $jscomp.Symbol;\n  }\n};\n\n\n/**\n * Produces \"symbols\" (actually just unique strings).\n * @param {string=} opt_description\n * @return {symbol}\n */\n$jscomp.Symbol = /** @type {function(): !Function} */ (function() {\n  var counter = 0;\n  /**\n   * @param {string=} opt_description\n   * @return {symbol}\n   * @suppress {reportUnknownTypes}\n   */\n  function Symbol(opt_description) {\n    return /** @type {symbol} */ (\n        $jscomp.SYMBOL_PREFIX + (opt_description || '') + (counter++));\n  }\n  return Symbol;\n})();\n\n\n/**\n * Initializes Symbol.iterator (if it's not already defined) and adds a\n * Symbol.iterator property to the Array prototype.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.initSymbolIterator = function() {\n  $jscomp.initSymbol();\n  var symbolIterator = $jscomp.global['Symbol'].iterator;\n  if (!symbolIterator) {\n    symbolIterator = $jscomp.global['Symbol'].iterator =\n        $jscomp.global['Symbol']('iterator');\n  }\n\n  if (typeof Array.prototype[symbolIterator] != 'function') {\n    $jscomp.defineProperty(\n        Array.prototype, symbolIterator, {\n          configurable: true,\n          writable: true,\n          /**\n           * @this {Array}\n           * @return {!IteratorIterable}\n           */\n          value: function() {\n            return $jscomp.arrayIterator(this);\n          }\n        });\n  }\n\n  // Only need to do this once. All future calls are no-ops.\n  $jscomp.initSymbolIterator = function() {};\n};\n\n\n/**\n * Returns an iterator from the given array.\n * @param {!Array<T>} array\n * @return {!IteratorIterable<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  var index = 0;\n  return $jscomp.iteratorPrototype(function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  });\n};\n\n\n/**\n * Returns an iterator with the given `next` method.  Passing\n * all iterators through this function allows easily extending\n * the definition of `%IteratorPrototype%` if methods are ever\n * added to it in the future.\n *\n * @param {function(this: Iterator<T>): T} next\n * @return {!IteratorIterable<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.iteratorPrototype = function(next) {\n  $jscomp.initSymbolIterator();\n\n  var iterator = {next: next};\n  /**\n   * @this {IteratorIterable}\n   * @return {!IteratorIterable}\n   */\n  iterator[$jscomp.global['Symbol'].iterator] = function() { return this; };\n  return /** @type {!IteratorIterable} */ (iterator);\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utilities for iterator-returning methods.\n */\n'require es6/symbol';\n\n\n/**\n * Creates an iterator from an array-like, with a transformation function.\n * @param {!IArrayLike<INPUT>} array\n * @param {function(number, INPUT): OUTPUT} transform\n * @return {!IteratorIterable<OUTPUT>}\n * @template INPUT, OUTPUT\n * @suppress {checkTypes|reportUnknownTypes}\n */\n$jscomp.iteratorFromArray = function(array, transform) {\n  $jscomp.initSymbolIterator();\n  // NOTE: IE8 doesn't support indexing from boxed Strings.\n  if (array instanceof String) array = array + '';\n  var i = 0;\n  var iter = {\n    next: function() {\n      if (i < array.length) {\n        var index = i++;\n        return {value: transform(index, array[index]), done: false};\n      }\n      iter.next = function() { return {done: true, value: void 0}; };\n      return iter.next();\n    }\n  };\n  iter[Symbol.iterator] = function() { return iter; };\n  return iter;\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/util/iteratorfromarray';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.keys', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Returns an iterator of keys of the given array.\n   *\n   * @this {!IArrayLike}\n   * @return {!IteratorIterable<number>}\n   */\n  var polyfill = function() {\n    return $jscomp.iteratorFromArray(this, function(i) { return i; });\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*FieldBreakdown.js - FieldBreakdown plugin for BIGSdb\nWritten by Keith Jolley\nCopyright (c) 2018-2022, University of Oxford\nE-mail: keith.jolley@zoo.ox.ac.uk\n\nThis file is part of Bacterial Isolate Genome Sequence Database (BIGSdb).\n\nBIGSdb is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nBIGSdb is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with BIGSdb.  If not, see <http://www.gnu.org/licenses/>.\n\nVersion 2.4.1.\n*/\n\nvar prefs_loaded;\nvar prefs_load_attempts = 0;\nvar selected_field;\nvar selected_type;\n\n$(function() {\n\t$.ajax({\n\t\turl: prefs_ajax_url\n\t})\n\t\t.done(function(data) {\n\t\t\tvar prefObj = JSON.parse(data);\n\t\t\tif (prefObj.height) { height = prefObj.height };\n\t\t\tif (prefObj.segments) { segments = prefObj.segments };\n\t\t\tif (prefObj.pie == 0) { pie = 0 }\n\t\t\ttheme = prefObj.theme ? prefObj.theme : 'theme_green';\n\t\t\tprojection = prefObj.projection ? prefObj.projection : 'Natural Earth';\n\t\t\t$(\"#projection\").val(projection);\n\t\t\tprefs_loaded = 1;\n\t\t})\n\t\t.fail(function(response) {\n\t\t\tconsole.log(response);\n\t\t});\n\n\t$('input[name=\"field_type\"][value=\"fields\"]').prop(\"checked\", true);\n\tvar field = $(\"#field\").val();\n\tselected_field = field;\n\tselected_type = field_types[field];\n\tvar initial_url = url + \"&field=\" + field;\n\tvar rotate = is_vertical();\n\n\tget_ajax_prefs();\n\n\tif (map_fields.includes(field)) {\n\t\tload_map_after_prefs_loaded(initial_url, field);\n\t} else if (field_types[field] == 'integer' || field_types[field] == 'float') {\n\t\tload_bar(initial_url, field, rotate);\n\t} else if (field_types[field] == 'date') {\n\t\tload_line(initial_url, field, line);\n\t} else if (field_types[field] == 'geography_point') {\n\t\tload_geography(initial_url, field)\n\t} else {\n\t\tload_pie(initial_url, field, segments);\n\t}\n\n\t$(\"#field\").on(\"change\", function() {\n\n\t\t$(\"#bb_chart\").css(\"min-height\", \"400px\");\n\t\td3.selectAll('svg').remove();\n\t\t$(\"div#waiting\").css(\"display\", \"block\");\n\t\t$(\".bb_controls\").css(\"display\", \"none\");\n\t\t$(\"#geography\").css(\"height\", 0);\n\t\t$(\"#geography\").html(\"\");\n\t\tvar rotate = is_vertical();\n\t\tvar field = $('#field').val();\n\n\t\tselected_field = field;\n\t\tselected_type = field_types[field];\n\t\tvar new_url = url + \"&field=\" + field;\n\t\tif (map_fields.includes(field)) {\n\t\t\tload_map(new_url, field);\n\t\t} else if (field_types[field] == 'integer' || field_types[field] == 'float') {\n\t\t\tload_bar(new_url, field, rotate);\n\t\t} else if (field_types[field] == 'date') {\n\t\t\tload_line(new_url, field, line);\n\t\t} else if (field_types[field] == 'geography_point') {\n\t\t\tload_geography(new_url, field)\n\t\t} else {\n\t\t\tload_pie(new_url, field, segments);\n\t\t}\n\t});\n\n\tvar field_type_radio = $('input[name=\"field_type\"]');\n\tfield_type_radio.on(\"change\", function() {\n\t\tvar field_type = get_field_type();\n\t\t$(\"#field\").empty();\n\t\tvar list = {\n\t\t\tfields: field_list,\n\t\t\tloci: locus_list,\n\t\t\tschemes: scheme_list\n\t\t};\n\n\t\t$.each(list[field_type], function(index, item) {\n\t\t\tvar value;\n\t\t\tvar label;\n\t\t\tif (field_type == 'schemes') {\n\t\t\t\tlabel = item.label;\n\t\t\t\tvalue = item.field;\n\t\t\t} else {\n\t\t\t\tlabel = item.replace(/^.+\\.\\./, \"\");\n\t\t\t\tvalue = item;\n\t\t\t}\n\t\t\tjQuery('<option/>', {\n\t\t\t\tvalue: value,\n\t\t\t\thtml: label\n\t\t\t}).appendTo(\"#field\");\n\t\t});\n\t\t$(\"#field\").change();\n\t\tfasta = field_type == 'loci' ? 1 : 0;\n\t});\n\n\tposition_controls();\n\t$(window).resize(function() {\n\t\tposition_controls();\n\t});\n\n\t$(\"#export_image\").off(\"click\").click(function() {\n\t\t// fix back fill\n\t\td3.select(\"#bb_chart\").selectAll(\"path\").attr(\"fill\", \"none\");\n\t\t// fix no axes\n\t\td3.select(\"#bb_chart\").selectAll(\"path.domain\").attr(\"stroke\", \"black\");\n\t\t// fix no tick\n\t\td3.select(\"#bb_chart\").selectAll(\".tick line\").attr(\"stroke\", \"black\");\n\t\td3.select(\"#bb_chart\").selectAll(\".bb-axis-y2\").attr(\"display\", \"none\");\n\t\t// Annoying 2nd x-axis\n\t\t// Hide both, then selectively show the first one.\n\t\td3.select(\"#bb_chart\").selectAll(\".bb-axis-x\").attr(\"display\", \"none\");\n\t\td3.select(\"#bb_chart\").select(\".bb-axis-x\").attr(\"display\", \"inline\");\n\n\t\t// map\n\t\td3.select(\"#map\").selectAll(\"path\").attr(\"fill\", \"none\");\n\t\td3.select(\"#map\").selectAll(\"path\").attr(\"stroke\", \"#444\");\n\t\td3.select(\"#map\").selectAll(\".background\").attr(\"fill\", \"none\");\n\t\tvar svg = d3.select(\"svg\")\n\t\t\t.attr(\"xmlns\", \"http://www.w3.org/2000/svg\")\n\t\t\t.node().parentNode.innerHTML;\n\t\tsvg = svg.replace(/<\\/svg>.*$/, \"</svg>\");\n\t\tvar blob = new Blob([svg], { type: \"image/svg+xml\" });\n\t\tvar filename = $(\"#field\").val().replace(/^.+\\.\\./, \"\") + \".svg\";\n\t\tsaveAs(blob, filename);\n\t});\n\n\t$(\"#expand_themes\").click(function() {\n\t\t$(\"#themes_shown\").toggle();\n\t\t$(\"#themes_hidden\").toggle();\n\t\tif ($(\"#themes_hidden\").is(\":visible\")) {\n\t\t\t$(\"#expanded_themes\").hide(500);\n\t\t} else {\n\t\t\t$(\"#expanded_themes\").show(500);\n\t\t}\n\t});\n});\n\nfunction load_map_after_prefs_loaded(initial_url, field) {\n\tprefs_load_attempts++;\n\t// Wait 50ms and check again.\n\t// Give up waiting after 10s.\n\tif (!prefs_loaded && prefs_load_attempts < 200) {\n\t\treturn setTimeout(function() {\n\t\t\tload_map_after_prefs_loaded(initial_url, field)\n\t\t}, 50);\n\t}\n\tload_map(initial_url, field);\n}\n\nfunction get_ajax_prefs() {\n\t$.ajax({\n\t\turl: prefs_ajax_url + \"&loci=1\"\n\t}).done(function(data) {\n\t\tloci = JSON.parse(data);\n\t}).fail(function(response) {\n\t\tconsole.log(response);\n\t});\n\t$.ajax({\n\t\turl: prefs_ajax_url + \"&scheme_fields=1\"\n\t}).done(function(data) {\n\t\tschemes = JSON.parse(data);\n\t}).fail(function(response) {\n\t\tconsole.log(response);\n\t});\n}\n\nfunction position_controls() {\n\tif ($(window).width() < 800) {\n\t\t$(\".bb_controls\").css(\"position\", \"static\");\n\t\t$(\".bb_controls\").css(\"float\", \"left\");\n\t} else {\n\t\t$(\".bb_controls\").css(\"position\", \"absolute\");\n\t\t$(\".bb_controls\").css(\"clear\", \"both\");\n\t}\n}\n\nfunction is_vertical() {\n\tvar orientation_radio = $('input[name=\"orientation\"]');\n\tvar checked = orientation_radio.filter(function() {\n\t\treturn $(this).prop('checked');\n\t});\n\tvar orientation = checked.val();\n\treturn orientation == 'vertical' ? 1 : 0;\n}\n\nfunction get_field_type() {\n\tvar field_type_radio = $('input[name=\"field_type\"]');\n\tvar checked = field_type_radio.filter(function() {\n\t\treturn $(this).prop('checked');\n\t});\n\tvar field_type = checked.val();\n\treturn field_type;\n}\n\nfunction load_map(url, field) {\n\t$(\"#bar_height\").off(\"slidechange\");\n\tvar div_width = $(\"#map\").width();\n\t$(\"#bb_chart\").html(\"\");\n\tvar unit_id = field == 'country' ? 'iso3' : 'continent';\n\tvar units = field == 'country' ? 'units' : 'continents';\n\tvar geo_file = field == 'country' ? '/javascript/topojson/countries.json' : '/javascript/topojson/continents.json';\n\tvar theme_colours = {\n\t\ttheme_grey: colorbrewer.Greys[5],\n\t\ttheme_blue: colorbrewer.Blues[5],\n\t\ttheme_green: colorbrewer.Greens[5],\n\t\ttheme_purple: colorbrewer.Purples[5],\n\t\ttheme_orange: colorbrewer.Oranges[5],\n\t\ttheme_red: colorbrewer.Reds[5],\n\t\ttheme_blue_green: colorbrewer.BuGn[5],\n\t\ttheme_blue_purple: colorbrewer.BuPu[5],\n\t\ttheme_green_blue: colorbrewer.GnBu[5],\n\t\ttheme_orange_red: colorbrewer.OrRd[5],\n\t\ttheme_purple_blue: colorbrewer.PuBu[5],\n\t\ttheme_purple_blue_green: colorbrewer.PuBuGn[5],\n\t\ttheme_purple_red: colorbrewer.PuRd[5],\n\t\ttheme_red_purple: colorbrewer.RdPu[5],\n\t\ttheme_yellow_green: colorbrewer.YlGn[5],\n\t\ttheme_yellow_green_blue: colorbrewer.YlGnBu[5],\n\t\ttheme_yellow_orange_brown: colorbrewer.YlOrBr[5],\n\t\ttheme_yellow_orange_red: colorbrewer.YlOrRd[5],\n\t};\n\tvar projections = {\n\t\t'Azimuthal Equal Area': d3.geoAzimuthalEqualArea,\n\t\t'Conic Equal Area': d3.geoConicEqualArea,\n\t\t'Equirectangular': d3.geoEquirectangular,\n\t\t'Natural Earth': d3.geoNaturalEarth,\n\t\t'Mercator': d3.geoMercator,\n\t\t'Robinson': d3.geoRobinson,\n\t\t'Stereographic': d3.geoStereographic,\n\t\t'Times': d3.geoTimes,\n\t\t'Transverse Mercator': d3.geoTransverseMercator,\n\t\t'Winkel tripel': d3.geoWinkel3\n\t};\n\tvar colours = theme_colours[theme];\n\n\td3.json(url).then(function(data) {\n\t\tif (field == 'country') {\n\t\t\tdata = merge_terms(data);\n\t\t}\n\t\tvar range = get_range(data);\n\t\tvar map = d3.geomap.choropleth()\n\t\t\t.geofile(geo_file)\n\t\t\t.colors(colours)\n\t\t\t.column('value')\n\t\t\t.format(d3.format(\",d\"))\n\t\t\t.legend({\n\t\t\t\twidth: 50,\n\t\t\t\theight: 120\n\t\t\t})\n\t\t\t.projection(projections[projection])\n\t\t\t.duration(1000)\n\t\t\t.domain([0, range.recommended])\n\t\t\t.valueScale(d3.scaleQuantize)\n\t\t\t.unitId(unit_id)\n\t\t\t.units(units)\n\t\t\t.postUpdate(function() { finished_map(url, field) });\n\t\tvar selection = d3.select('#map').datum(data);\n\t\tmap.draw(selection);\n\t\t$(window).resize(function() {\n\t\t\tif (field === selected_field) {\n\t\t\t\tdelay(function() {\n\t\t\t\t\tif (div_width != $(\"#map\").width()) {\n\t\t\t\t\t\tdiv_width = $(\"#map\").width();\n\t\t\t\t\t\t$(\"#map\").html(\"\");\n\t\t\t\t\t\tload_map(url, field);\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t});\n\t\t$(\"#colour_range\").slider({\n\t\t\tmin: 0,\n\t\t\tmax: 4,\n\t\t\tvalue: range.options.indexOf(range.recommended),\n\t\t\tslide: function(event, ui) {\n\t\t\t\tmap.domain([0, range.options[ui.value]]).duration(0).update();\n\t\t\t}\n\t\t});\n\n\t\t$(\".theme\").off(\"click\").click(function() {\n\t\t\tmap.colors(theme_colours[this.id]).duration(0).update();\n\t\t\tset_prefs('theme', this.id);\n\t\t\ttheme = this.id;\n\t\t});\n\n\t\t$(\"#projection\").off(\"change\").change(function() {\n\t\t\td3.selectAll('svg').remove();\n\t\t\tprojection = $(\"#projection\").val()\n\t\t\tmap.projection(projections[projection]).draw(selection);\n\t\t\tset_prefs('projection', projection);\n\t\t});\n\t});\n}\n\nfunction merge_terms(data) {\n\tvar iso3_counts = {};\n\tfor (var i = 0; i < data.length; i++) {\n\t\tif (typeof iso3_counts[data[i].iso3] == 'undefined') {\n\t\t\tiso3_counts[data[i].iso3] = data[i].value;\n\t\t} else {\n\t\t\tiso3_counts[data[i].iso3] += data[i].value;\n\t\t}\n\t}\n\tvar merged = [];\n\tvar iso3 = Object.keys(iso3_counts);\n\tfor (var i = 0; i < iso3.length; i++) {\n\t\tmerged.push({ iso3: iso3[i], value: iso3_counts[iso3[i]] });\n\t}\n\treturn merged;\n}\n\nvar delay = (function() {\n\tvar timer = 0;\n\treturn function(callback, ms) {\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(callback, ms);\n\t};\n})();\n\n// Choose recommended value so that ~5% of records are in top fifth (25% if <= 10 records).\nfunction get_range(data) {\n\tvar records = data.length;\n\tvar percent_in_top_fifth = records > 10 ? 0.05 : 0.25;\n\tvar target = parseInt(percent_in_top_fifth * records);\n\tvar multiplier = 10;\n\tvar max;\n\tvar recommended;\n\tvar options = [];\n\tvar finish;\n\twhile (true) {\n\t\tvar test = [1, 2, 5];\n\t\tfor (var i = 0; i < test.length; i++) {\n\t\t\tmax = test[i] * multiplier;\n\t\t\toptions.push(max);\n\t\t\tif (recommended && options.length >= 5) {\n\t\t\t\tfinish = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar top_division_start = max * 4 / 5;\n\t\t\tvar in_top_fifth = 0;\n\t\t\tfor (var j = 0; j < data.length; j++) {\n\t\t\t\tif (data[j].value >= top_division_start) {\n\t\t\t\t\tin_top_fifth++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (in_top_fifth <= target && !recommended) {\n\t\t\t\trecommended = max;\n\t\t\t}\n\t\t}\n\t\tif (finish) {\n\t\t\tbreak;\n\t\t}\n\t\tmultiplier = multiplier * 10;\n\t\tif (max > 10000000) {\n\t\t\tif (!recommended) {\n\t\t\t\trecommended = max;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn {\n\t\trecommended: recommended,\n\t\toptions: options.slice(-5)\n\t}\n}\n\n\nfunction finished_map(url, field) {\n\t$(\"div#waiting\").css(\"display\", \"block\");\n\t$(\"#bar_controls\").css(\"display\", \"none\");\n\t$(\"#line_controls\").css(\"display\", \"none\");\n\t$(\"#pie_controls\").css(\"display\", \"none\");\n\t$(\".transform_to_pie\").css(\"display\", \"inline\");\n\t$(\".transform_to_donut\").css(\"display\", \"inline\");\n\t$(\".transform_to_bar\").css(\"display\", \"none\");\n\t$(\".transform_to_line\").css(\"display\", \"none\");\n\t$(\"#map_controls\").css(\"display\", \"block\");\n\t$(\".transform_to_donut\").off(\"click\").click(function() {\n\t\t$(\"div#waiting\").css(\"display\", \"block\");\n\t\td3.selectAll(\"svg\").remove();\n\t\tload_pie(url, field, segments);\n\t\tpie = 0;\n\t\t$(\"#bb_chart\").css(\"min-height\", \"400px\");\n\t});\n\t$(\".transform_to_pie\").off(\"click\").click(function() {\n\t\t$(\"div#waiting\").css(\"display\", \"block\");\n\t\td3.selectAll(\"svg\").remove();\n\t\tload_pie(url, field, segments);\n\t\tpie = 1;\n\t\t$(\"#bb_chart\").css(\"min-height\", \"400px\");\n\t});\n\tshow_export_options();\n\t$(\"div#waiting\").css(\"display\", \"none\");\n\t$(\"#bb_chart\").css(\"min-height\", 0);\n\t$(\".legend-bg\").css(\"fill\", \"none\");\n}\n\nfunction load_pie(url, field, max_segments) {\n\t$(\"#bar_controls\").css(\"display\", \"none\");\n\t$(\"#line_controls\").css(\"display\", \"none\");\n\t$(\"#map_controls\").css(\"display\", \"none\");\n\t$(\"#geography_controls\").css(\"display\", \"none\");\n\tif (typeof field == 'undefined') {\n\t\treturn;\n\t}\n\tvar title = field.replace(/^.+\\.\\./, \"\");\n\n\ttitle = title.replace(/^s_\\d+_/, \"\");\n\tvar f = d3.format(\".1f\");\n\td3.json(url).then(function(jsonData) {\n\t\tvar data = pie_json_to_cols(jsonData, max_segments);\n\n\t\t// Load all data first otherwise a glitch causes one segment to be\n\t\t// missing when increasing number of segments.\n\t\tvar all_data = pie_json_to_cols(jsonData, 50);\n\n\t\t// Need to create 'Others' segment otherwise it won't display properly\n\t\t// if needed when reducing segment count.\n\t\tall_data.columns.push(['Others', 0]);\n\n\t\tvar plural = data.count == 1 ? \"\" : \"s\";\n\t\ttitle += \" (\" + data.count + \" value\" + plural + \")\";\n\t\tvar chart = bb.generate({\n\t\t\tbindto: '#bb_chart',\n\t\t\ttitle: {\n\t\t\t\ttext: title\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\tcolumns: all_data.columns,\n\t\t\t\ttype: pie ? 'pie' : 'donut',\n\t\t\t\torder: null,\n\t\t\t\tcolors: {\n\t\t\t\t\t'Others': '#aaa'\n\t\t\t\t}\n\t\t\t},\n\t\t\tpie: {\n\t\t\t\tlabel: {\n\t\t\t\t\tshow: true\n\t\t\t\t},\n\t\t\t\texpand: false,\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tshow: true,\n\t\t\t\tposition: 'bottom'\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\theight: 500\n\t\t\t},\n\t\t\ttooltip: {\n\t\t\t\tformat: {\n\t\t\t\t\tvalue: function(value, ratio, id) {\n\t\t\t\t\t\treturn value + \" (\" + f(ratio * 100) + \"%)\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tchart.unload();\n\t\tchart.load({\n\t\t\tcolumns: data.columns,\n\t\t});\n\n\t\t$(\"#segments\").on(\"slidechange\", function() {\n\t\t\tvar new_segments = $(\"#segments\").slider('value');\n\t\t\t$(\"#segments_display\").text(new_segments);\n\t\t\tif (segments != new_segments) {\n\t\t\t\tset_prefs('segments', new_segments);\n\t\t\t}\n\t\t\tsegments = new_segments;\n\t\t\tvar data = pie_json_to_cols(jsonData, segments);\n\t\t\tchart.unload();\n\t\t\tchart.load({\n\t\t\t\tcolumns: data.columns,\n\t\t\t});\n\n\t\t});\n\t\tif (max_segments != segments) {\n\t\t\tvar data = pie_json_to_cols(jsonData, segments);\n\t\t\tchart.unload();\n\t\t\tchart.load({\n\t\t\t\tcolumns: data.columns,\n\t\t\t});\n\t\t}\n\t\t$(\".transform_to_donut\").off(\"click\").click(function() {\n\t\t\t$(\".transform_to_donut\").css(\"display\", \"none\");\n\t\t\t$(\".transform_to_pie\").css(\"display\", \"inline\");\n\t\t\tpie = 0;\n\t\t\tset_prefs('pie', 0);\n\t\t\tchart.unload();\n\t\t\tload_pie(url, field, max_segments)\n\t\t});\n\t\t$(\".transform_to_pie\").off(\"click\").click(function() {\n\t\t\t$(\".transform_to_pie\").css(\"display\", \"none\");\n\t\t\t$(\".transform_to_donut\").css(\"display\", \"inline\");\n\t\t\tpie = 1;\n\t\t\tset_prefs('pie', 1);\n\t\t\tchart.unload();\n\t\t\tload_pie(url, field, max_segments)\n\t\t});\n\t\t$(\".transform_to_map\").off(\"click\").click(function() {\n\t\t\t$(\".transform_to_map\").css(\"display\", \"none\");\n\t\t\tload_map(url, field);\n\t\t\t$(\".transform_to_pie\").css(\"display\", \"inline\");\n\t\t\t$(\".transform_to_donut\").css(\"display\", \"inline\");\n\t\t\tpie = 1;\n\t\t\tset_prefs('pie', 1);\n\t\t});\n\t\t$(\"#segment_control\").css(\"display\", \"block\");\n\t\t$(\"#segments\").slider({ min: 5, max: 50, value: segments });\n\t\t$(\"#segments_display\").text(segments);\n\t\t$(\".transform_to_map\").css(\"display\", map_fields.includes(field) ? \"inline\" : \"none\");\n\t\t$(\".transform_to_pie\").css(\"display\", pie ? \"none\" : \"inline\");\n\t\t$(\".transform_to_donut\").css(\"display\", pie ? \"inline\" : \"none\");\n\t\t$(\".transform_to_bar\").css(\"display\", \"none\");\n\t\t$(\".transform_to_line\").css(\"display\", \"none\");\n\t\t$(\"#pie_controls\").css(\"display\", \"block\");\n\t\tshow_export_options();\n\t\t$(\"div#waiting\").css(\"display\", \"none\");\n\t}, function(error) {\n\t\tconsole.log(error);\n\t\t$(\"#bb_chart\").html('<p style=\"text-align:center;margin-top:5em\">'\n\t\t\t+ '<span class=\"error_message\">Error accessing data.</span></p>');\n\t});\n}\n\nfunction pie_json_to_cols(jsonData, segments) {\n\tvar columns = [];\n\tvar first_other = [];\n\tvar count = 0;\n\tvar others = 0;\n\tvar other_fields = 0;\n\tjsonData.forEach(function(e) {\n\t\te.label = e.label.toString();\n\t\tcount++;\n\t\tif (count >= segments) {\n\t\t\tothers += e.value;\n\t\t\tother_fields++;\n\t\t\tif (count == segments) {\n\t\t\t\tfirst_other = [e.label, e.value];\n\t\t\t}\n\t\t} else {\n\t\t\tcolumns.push([e.label, e.value]);\n\t\t}\n\t})\n\tif (other_fields == 1) {\n\t\tcolumns.push(first_other);\n\t} else if (other_fields > 1) {\n\t\tcolumns.push(['Others', others]);\n\t}\n\treturn { columns: columns, count: count };\n}\n\nfunction load_line(url, field, cumulative) {\n\t$(\"#bar_controls\").css(\"display\", \"none\");\n\t$(\"#pie_controls\").css(\"display\", \"none\");\n\t$(\"#map_controls\").css(\"display\", \"none\");\n\t$(\"#geography_controls\").css(\"display\", \"none\");\n\t$(\".transform_to_map\").css(\"display\", \"none\");\n\t// Prevent multiple event firing after reloading\n\t$(\"#line_height\").off(\"slidechange\");\n\tvar data = [];\n\tvar title = field.replace(/^.+\\.\\./, \"\");\n\n\td3.json(url).then(function(jsonData) {\n\t\tremove_null(jsonData);\n\t\tvar values = ['value'];\n\t\tvar fields = ['date'];\n\t\tvar count = 0;\n\t\tvar total = 0;\n\t\tjsonData.forEach(function(e) {\n\t\t\tcount++;\n\n\t\t\tfields.push(e.label);\n\t\t\tif (cumulative) {\n\t\t\t\ttotal += e.value;\n\t\t\t\tvalues.push(total);\n\t\t\t} else {\n\t\t\t\tvalues.push(e.value);\n\t\t\t}\n\t\t});\n\t\tvar plural = count == 1 ? \"\" : \"s\";\n\t\ttitle += \" (\" + count + \" value\" + plural + \")\";\n\n\t\tvar chart = bb.generate({\n\t\t\tbindto: '#bb_chart',\n\t\t\ttitle: {\n\t\t\t\ttext: title\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\tx: 'date',\n\t\t\t\tcolumns: [\n\t\t\t\t\tfields,\n\t\t\t\t\tvalues\n\t\t\t\t],\n\t\t\t\ttype: line ? 'line' : 'bar',\n\t\t\t\torder: 'asc',\n\t\t\t},\n\n\t\t\taxis: {\n\t\t\t\tx: {\n\t\t\t\t\ttype: 'timeseries',\n\t\t\t\t\ttick: {\n\t\t\t\t\t\tformat: '%Y-%m-%d',\n\t\t\t\t\t\tcount: 100,\n\t\t\t\t\t\trotate: 90,\n\t\t\t\t\t\tfit: true\n\t\t\t\t\t},\n\t\t\t\t\theight: 100\n\t\t\t\t}\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tshow: false\n\t\t\t}\n\t\t});\n\n\t\tchart.resize({\n\t\t\theight: height\n\t\t});\n\n\t\t$(\".transform_to_bar\").off(\"click\").click(function() {\n\t\t\tchart.unload();\n\t\t\tload_line(url, field, 0);\n\t\t\t$(\".transform_to_bar\").css(\"display\", \"none\");\n\t\t\t$(\".transform_to_line\").css(\"display\", \"inline\");\n\t\t\tline = 0;\n\t\t});\n\t\t$(\".transform_to_line\").off(\"click\").click(function() {\n\t\t\tchart.unload();\n\t\t\tload_line(url, field, 1);\n\t\t\t$(\".transform_to_line\").css(\"display\", \"none\");\n\t\t\t$(\".transform_to_bar\").css(\"display\", \"inline\");\n\t\t\tline = 1;\n\t\t});\n\n\t\t$(\".transform_to_line\").css(\"display\", line ? \"none\" : \"inline\");\n\t\t$(\".transform_to_bar\").css(\"display\", line ? \"inline\" : \"none\");\n\t\t$(\".transform_to_pie\").css(\"display\", \"none\");\n\t\t$(\".transform_to_donut\").css(\"display\", \"none\");\n\n\t\t$(\"#line_controls\").css(\"display\", \"block\");\n\t\t$(\"#line_height\").slider({ min: 300, max: 800, value: height });\n\t\t$(\"#line_height\").on(\"slidechange\", function() {\n\t\t\tvar new_height = $(\"#line_height\").slider('value');\n\t\t\theight = new_height;\n\t\t\tchart.resize({\n\t\t\t\theight: height\n\t\t\t});\n\t\t\tset_prefs('height', height);\n\t\t});\n\t\tshow_export_options();\n\t\t$(\"div#waiting\").css(\"display\", \"none\");\n\t}, function(error) {\n\t\tconsole.log(error);\n\t\t$(\"#bb_chart\").html('<p style=\"text-align:center;margin-top:5em\">'\n\t\t\t+ '<span class=\"error_message\">Error accessing data.</span></p>');\n\t});\n}\n\nfunction remove_null(jsonData) {\n\t$.each(jsonData, function(index, value) {\n\t\tif (value['label'] === 'No value') {\n\t\t\tjsonData.splice(index, 1);\n\t\t}\n\t});\n}\n\nfunction load_bar_json(jsonData, field, rotate) {\n\tremove_null(jsonData);\n\t$(\"#line_controls\").css(\"display\", \"none\");\n\t$(\"#pie_controls\").css(\"display\", \"none\");\n\t$(\"#map_controls\").css(\"display\", \"none\");\n\t$(\"#geography_controls\").css(\"display\", \"none\");\n\t$(\"#bar_height\").off(\"slidechange\");\n\tvar title = field.replace(/^.+\\.\\./, \"\");\n\tvar count = Object.keys(jsonData).length;\n\tvar plural = count == 1 ? \"\" : \"s\";\n\ttitle += \" (\" + count + \" value\" + plural + \")\";\n\n\tvar chart = bb.generate({\n\t\tbindto: '#bb_chart',\n\t\ttitle: {\n\t\t\ttext: title\n\t\t},\n\t\tdata: {\n\t\t\tjson: jsonData,\n\t\t\tkeys: {\n\t\t\t\tx: 'label',\n\t\t\t\tvalue: ['value']\n\t\t\t},\n\t\t\ttype: 'bar',\n\t\t},\n\t\tbar: {\n\t\t\twidth: {\n\t\t\t\tratio: 0.7\n\t\t\t}\n\t\t},\n\t\taxis: {\n\t\t\trotated: rotate,\n\t\t\tx: {\n\t\t\t\ttype: 'category',\n\t\t\t\ttick: {\n\t\t\t\t\tculling: true,\n\t\t\t\t},\n\t\t\t\theight: 100\n\t\t\t}\n\t\t},\n\t\tlegend: {\n\t\t\tshow: false\n\t\t},\n\t\tpadding: {\n\t\t\tright: 20\n\t\t}\n\t});\n\tchart.resize({\n\t\theight: height\n\t});\n\n\t$(\"#bar_height\").slider({ min: 300, max: 800, value: height });\n\t$(\"#bar_controls\").css(\"display\", \"block\");\n\t$(\"#bar_height\").on(\"slidechange\", function() {\n\t\tvar new_height = $(\"#bar_height\").slider('value');\n\t\theight = new_height;\n\t\tchart.resize({\n\t\t\theight: height\n\t\t});\n\t\tset_prefs('height', height);\n\t});\n\tshow_export_options();\n}\n\nfunction load_bar(url, field, rotate) {\n\td3.json(url).then(function(jsonData) {\n\t\tload_bar_json(jsonData, field, rotate);\n\t\t$(\"div#waiting\").css(\"display\", \"none\");\n\t}, function(error) {\n\t\tconsole.log(error);\n\t\t$(\"#bb_chart\").html('<p style=\"text-align:center;margin-top:5em\">'\n\t\t\t+ '<span class=\"error_message\">Error accessing data.</span></p>');\n\t});\n\tvar orientation_radio = $('input[name=\"orientation\"]');\n\torientation_radio.on(\"change\", function() {\n\t\tvar field = $('#field').val();\n\t\trotate = is_vertical();\n\t\t// Reload by URL rather than from already downloaded JSON data\n\t\t// as it seems that the required unload() function currently has a\n\t\t// memory leak.\n\t\tload_bar(url, field, rotate);\n\t});\n}\n\nfunction load_geography(url, field) {\n\t$(\"#bb_chart\").html(\"\");\n\t$(\"#geography\").css(\"height\", \"400px\");\n\tconst styles = ['RoadOnDemand', 'AerialWithLabelsOnDemand'];\n\tlet layers = [];\n\tif (bingmaps_api) {\n\t\tlet i, ii;\n\t\tfor (i = 0, ii = styles.length; i < ii; ++i) {\n\t\t\tlayers.push(\n\t\t\t\tnew ol.layer.Tile({\n\t\t\t\t\tvisible: i == 0 ? true : false,\n\t\t\t\t\tpreload: Infinity,\n\t\t\t\t\tsource: new ol.source.BingMaps({\n\t\t\t\t\t\tkey: bingmaps_api,\n\t\t\t\t\t\timagerySet: styles[i]\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t} else {\n\t\tlayers.push(\n\t\t\tnew ol.layer.Tile({\n\t\t\t\tsource: new ol.source.OSM({\n\t\t\t\t\tcrossOrigin: null\n\t\t\t\t})\n\t\t\t})\n\t\t);\n\t}\n\n\n\td3.json(url).then(function(jsonData) {\n\n\t\tlet map = new ol.Map({\n\t\t\ttarget: 'geography',\n\t\t\tlayers: layers,\n\t\t\tview: new ol.View({\n\t\t\t\tcenter: ol.proj.fromLonLat([0, 20]),\n\t\t\t\tzoom: 2,\n\t\t\t\tminZoom: 1,\n\t\t\t\tmaxZoom: 16\n\t\t\t})\n\t\t});\n\t\tlet pstyles = [];\n\t\tfor (let i = 0; i < 10; ++i) {\n\t\t\tlet pstyle = new ol.style.Style({\n\t\t\t\timage: new ol.style.Circle({\n\t\t\t\t\tradius: 2 + i,\n\t\t\t\t\tfill: new ol.style.Fill({\n\t\t\t\t\t\tcolor: 'rgba(255,60,0,0.7)'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t});\n\t\t\tpstyles.push(pstyle);\n\t\t}\n\t\tlet thresholds = [1, 2, 5, 10, 25, 50, 100, 250, 500];\n\t\tlet features = [];\n\t\tjsonData.forEach(function(e) {\n\t\t\tlet coordinates = (e.label.match(/(\\-?\\d+\\.?\\d*),\\s*(\\-?\\d+\\.?\\d*)/));\n\t\t\tif (coordinates != null) {\n\t\t\t\tlet latitude = parseFloat(coordinates[1]);\n\t\t\t\tlet longitude = parseFloat(coordinates[2]);\n\t\t\t\tlet threshold;\n\t\t\t\tfor (let i = 0; i < 9; ++i) {\n\t\t\t\t\tif (parseInt(e.value) <= thresholds[i]) {\n\t\t\t\t\t\tthreshold = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (threshold == null) {\n\t\t\t\t\tthreshold = 9;\n\t\t\t\t}\n\t\t\t\tlet feature = new ol.Feature({\n\t\t\t\t\tgeometry: new ol.geom.Point(ol.proj.fromLonLat([longitude, latitude])),\n\t\t\t\t});\n\t\t\t\tfeature.setStyle(pstyles[threshold])\n\t\t\t\tfeatures.push(feature);\n\t\t\t}\n\t\t});\n\t\tlet vectorLayer = new ol.layer.Vector({\n\t\t\tsource: new ol.source.Vector({\n\t\t\t\tfeatures: features\n\t\t\t})\n\t\t})\n\t\tmap.addLayer(vectorLayer);\n\t\tif (features.length) {\n\t\t\tmap.getView().fit(vectorLayer.getSource().getExtent(), {\n\t\t\t\tsize: map.getSize(),\n\t\t\t\tpadding: [10, 10, 10, 10],\n\t\t\t\tminZoom: 2,\n\t\t\t\tmaxZoom: 12,\n\t\t\t\tconstrainResolution: false\n\t\t\t});\n\t\t}\n\t\tmap.on('postrender', function(e) {\n\t\t\t$(\"div#waiting\").css(\"display\", \"none\");\n\t\t\t$(\"#geography_controls\").css(\"display\", \"block\");\n\t\t\t$(\"#bb_chart\").css(\"min-height\", 0);\n\t\t\tshow_export_options();\n\t\t\t$(\"#geography_view\").off(\"change\").change(function() {\n\t\t\t\tif ($(\"#geography_view\").val() == 'Aerial') {\n\t\t\t\t\tlayers[0].setVisible(false);\n\t\t\t\t\tlayers[1].setVisible(true);\n\t\t\t\t} else {\n\t\t\t\t\tlayers[0].setVisible(true);\n\t\t\t\t\tlayers[1].setVisible(false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t});\n\t});\n}\n\n\nfunction show_export_options() {\n\tvar field = $('#field').val();\n\t$(\"a#export_table\").attr(\"href\", url + \"&export=\" + field + \"&format=table\");\n\t$(\"a#export_excel\").attr(\"href\", url + \"&export=\" + field + \"&format=xlsx\");\n\t$(\"a#export_text\").attr(\"href\", url + \"&export=\" + field + \"&format=text\");\n\t$(\"a#export_fasta\").attr(\"href\", url + \"&export=\" + field + \"&format=fasta\");\n\t$(\"a#export_fasta\").css(\"display\", fasta ? \"inline\" : \"none\");\n\t$(\"a#export_image\").css(\"display\", selected_type == 'geography_point' ? \"none\" : \"inline\");\n\t$(\"#export\").css(\"display\", \"block\");\n}\n\nfunction set_prefs(attribute, value) {\n\t$.ajax(prefs_ajax_url + \"&update=1&attribute=\" + attribute + \"&value=\" + value);\n}"],
"names":["prefs_loaded","prefs_load_attempts","selected_field","selected_type","$","ajax","url","prefs_ajax_url","done","data","prefObj","JSON","parse","height","segments","pie","theme","projection","val","fail","response","console","log","prop","field","field_types","initial_url","rotate","is_vertical","get_ajax_prefs","map_fields","includes","load_map_after_prefs_loaded","load_bar","load_line","line","load_geography","load_pie","on","css","d3","selectAll","remove","html","new_url","load_map","field_type_radio","field_type","get_field_type","empty","each","list","fields","field_list","loci","locus_list","schemes","scheme_list","index","item","label","value","replace","jQuery","appendTo","change","fasta","position_controls","window","resize","off","click","select","attr","svg","node","parentNode","innerHTML","blob","Blob","type","filename","saveAs","toggle","is","hide","show","setTimeout","width","orientation_radio","filter","checked","orientation","div_width","unit_id","units","geo_file","theme_colours","theme_grey","colorbrewer","Greys","theme_blue","Blues","theme_green","Greens","theme_purple","Purples","theme_orange","Oranges","theme_red","Reds","theme_blue_green","BuGn","theme_blue_purple","BuPu","theme_green_blue","GnBu","theme_orange_red","OrRd","theme_purple_blue","PuBu","theme_purple_blue_green","PuBuGn","theme_purple_red","PuRd","theme_red_purple","RdPu","theme_yellow_green","YlGn","theme_yellow_green_blue","YlGnBu","theme_yellow_orange_brown","YlOrBr","theme_yellow_orange_red","YlOrRd","projections","geoAzimuthalEqualArea","geoConicEqualArea","geoEquirectangular","geoNaturalEarth","geoMercator","geoRobinson","geoStereographic","geoTimes","geoTransverseMercator","geoWinkel3","colours","json","then","merge_terms","range","get_range","map","geomap","choropleth","geofile","colors","column","format","legend","duration","domain","recommended","valueScale","scaleQuantize","unitId","postUpdate","finished_map","selection","datum","draw","delay","slider","min","max","options","indexOf","slide","event","ui","update","id","set_prefs","iso3_counts","i","length","iso3","merged","Object","keys","push","timer","callback","ms","clearTimeout","records","target","parseInt","percent_in_top_fifth","multiplier","finish","test","top_division_start","in_top_fifth","j","slice","show_export_options","max_segments","title","f","jsonData","pie_json_to_cols","all_data","columns","count","plural","chart","bb","generate","bindto","text","order","expand","position","size","tooltip","ratio","unload","load","new_segments","error","first_other","others","other_fields","forEach","e","toString","cumulative","remove_null","values","total","x","axis","tick","fit","new_height","splice","load_bar_json","bar","rotated","culling","padding","right","styles","layers","bingmaps_api","ii","ol","layer","Tile","visible","preload","Infinity","source","BingMaps","key","imagerySet","OSM","crossOrigin","Map","view","View","center","proj","fromLonLat","zoom","minZoom","maxZoom","pstyles","pstyle","style","Style","image","Circle","radius","fill","Fill","color","thresholds","features","coordinates","match","latitude","parseFloat","longitude","threshold","feature","Feature","geometry","geom","Point","setStyle","vectorLayer","Vector","addLayer","getView","getSource","getExtent","getSize","constrainResolution","setVisible","attribute"]
}
