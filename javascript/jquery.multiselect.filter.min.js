var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,e){a instanceof String&&(a=String(a));for(var f=a.length,b=0;b<f;b++){var d=a[b];if(c.call(e,d,b,a))return{i:b,v:d}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,e,f){if(c){e=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var b=a[f];b in e||(e[b]={});e=e[b]}a=a[a.length-1];f=e[a];c=c(f);c!=f&&null!=c&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");
(function(a){function c(a,d,g){var b;return function(){var e=this,c=arguments,f=g&&!b;clearTimeout(b);b=setTimeout(function(){b=null;g||a.apply(e,c)},d);f&&a.apply(e,c)}}var e=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,f={contains:"{{term}}",beginsWith:"^{{term}}",endsWith:"{{term}}$",exactMatch:"^{{term}}$",containsNumber:"d",isNumeric:"^d+$",isNonNumeric:"^D+$"};a.widget("ech.multiselectfilter",{options:{label:"Filter:",placeholder:"Enter keywords",filterRule:"contains",searchGroups:!1,autoReset:!1,width:null,
debounceMS:250},_create:function(){var b=this.options,d=this.element;this.instance=d.data("ech-multiselect");this.$header=this.instance.$menu.find(".ui-multiselect-header").addClass("ui-multiselect-hasfilter");this.$input=a(document.createElement("input")).attr({placeholder:b.placeholder,type:"search"}).css({width:"string"===typeof b.width?this.instance._parse2px(b.width,this.$header).px+"px":/\d/.test(b.width)?b.width+"px":null});this._bindInputEvents();if(this.options.autoReset)d.on("multiselectbeforeclose",
a.proxy(this._reset,this));b=a(document.createElement("label")).text(b.label).append(this.$input).addClass("ui-multiselect-filter-label");this.$wrapper=a(document.createElement("div")).addClass("ui-multiselect-filter").append(b).prependTo(this.$header);this.instance._isOpen&&this.instance._setMenuHeight(!0);this.updateCache();var e=this.instance,c=this.$input[0];e._oldToggleChecked=e._toggleChecked;e._toggleChecked=function(a,b){e._oldToggleChecked(a,b,!!c.value)}},_bindInputEvents:function(){var b=
this.element;this.$input.on({keydown:function(d){if(13===d.which)d.preventDefault();else if(27===d.which)b.multiselect("close"),d.preventDefault();else if(9===d.which&&d.shiftKey)b.multiselect("close"),d.preventDefault();else if(d.altKey)switch(d.which){case 82:d.preventDefault();a(this).val("").trigger("input","");break;case 65:b.multiselect("checkAll");break;case 85:b.multiselect("uncheckAll");break;case 70:b.multiselect("flipAll");break;case 76:b.multiselect("instance").$labels.first().trigger("mouseenter")}},
input:a.proxy(c(this._handler,this.options.debounceMS),this),search:a.proxy(this._handler,this)})},_handler:function(b){var d=this.$input[0].value.toLowerCase().replace(/^\s+|\s+$/g,""),c=this.options.filterRule||"contains",h=new RegExp((f[c]||c).replace("{{term}}",d.replace(e,"\\$&")),"i"),l=!!this.options.searchGroups;c=this.instance.$checkboxes;var k=this.cache;this.$rows.toggleClass("ui-multiselect-excluded",!!d);c=c.children().map(function(b){var d=this,c=a(d),e=!1;return d.classList.contains("ui-multiselect-optgroup")&&
(c=c.find("li"),l&&h.test(k[b]))?(d.classList.remove("ui-multiselect-excluded"),c.removeClass("ui-multiselect-excluded"),c.find("input").get()):c.map(function(a){return h.test(k[b+"."+a])?(e||(d.classList.remove("ui-multiselect-excluded"),e=!0),this.classList.remove("ui-multiselect-excluded"),this.getElementsByTagName("input")[0]):null})});d&&this._trigger("filter",b,c);!this.instance.options.listbox&&this.instance._isOpen&&(this.instance._setMenuHeight(!0),this.instance.position())},_reset:function(){this.$input.val("");
var a=document.createEvent("Event");a.initEvent("reset",!0,!0);this.$input.get(0).dispatchEvent(a);this._handler(a)},updateCache:function(b){var d={};this.instance.$checkboxes.children().each(function(b){var c=a(this);this.classList.contains("ui-multiselect-optgroup")&&(d[b]=this.getElementsByClassName("ui-multiselect-grouplabel")[0].textContent,c=c.find("li"));c.each(function(a){d[b+"."+a]=this.textContent})});this.cache=d;this.$rows=this.instance.$checkboxes.find("li");b&&this._handler()},widget:function(){return this.$wrapper},
destroy:function(){a.Widget.prototype.destroy.call(this);this.$input.val("").trigger("keyup").off("keydown input search");this.instance.$menu.find(".ui-multiselect-header").removeClass("ui-multiselect-hasfilter");this.$wrapper.remove()}})})(jQuery);
//# sourceMappingURL=jquery.multiselect.filter.min.js.map
