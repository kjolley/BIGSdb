{
"version":3,
"file":"",
"lineCount":7,
"mappings":"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",
"sources":["bigsdb.openlayers.js"],
"sourcesContent":["/*\nWritten by Keith Jolley\nCopyright (c) 2024, University of Oxford\nE-mail: keith.jolley@biology.ox.ac.uk\n\nThis file is part of Bacterial Isolate Genome Sequence Database (BIGSdb).\n\nBIGSdb is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nBIGSdb is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with BIGSdb.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nfunction get_ol_layers(mapping_option, map_style) {\n\tlet layers = [];\n\tswitch (mapping_option) {\n\t\tcase 0:\n\t\t\tlayers.push(get_osm_layer(map_style === 'Map' ? true : false));\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tlayers.push(get_osm_layer(map_style === 'Map' ? true : false));\n\t\t\tlayers.push(get_maptiler_layer(map_style === 'Aerial' ? true : false));\n\t\t\tif (map_style === 'Aerial') {\n\t\t\t\t$(\"a#maptiler_logo\").show();\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tlayers.push(get_osm_layer(map_style === 'Map' ? true : false));\n\t\t\tlayers.push(get_arcgis_world_imagery_layer(map_style === 'Aerial' ? true : false));\n\t\t\tlayers.push(get_arcgis_hybdrid_ref_layer(map_style === 'Aerial' ? true : false));\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tlayers.push(get_arcgis_world_streetmap_layer(map_style === 'Map' ? true : false));\n\t\t\tlayers.push(get_arcgis_world_imagery_layer(map_style === 'Aerial' ? true : false));\n\t\t\tlayers.push(get_arcgis_hybdrid_ref_layer(map_style === 'Aerial' ? true : false));\n\t}\n\treturn layers;\n}\n\nfunction get_osm_layer(is_visible) {\n\treturn new ol.layer.Tile({\n\t\tvisible: is_visible,\n\t\tsource: new ol.source.OSM({\n\t\t\tcrossOrigin: null,\n\t\t})\n\t});\n}\n\nfunction get_maptiler_layer(is_visible) {\n\treturn new ol.layer.Tile({\n\t\tvisible: is_visible,\n\t\tsource: new ol.source.TileJSON({\n\t\t\tattributions: '<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a>',\n\t\t\tattributionsCollapsible: false,\n\t\t\turl: 'https://api.maptiler.com/maps/hybrid/tiles.json?key=' + maptiler_key,\n\t\t\ttileSize: 512,\n\t\t\tmaxZoom: 20\n\t\t})\n\t});\n}\n\nfunction get_arcgis_world_imagery_layer(is_visible) {\n\treturn new ol.layer.Tile({\n\t\tvisible: is_visible,\n\t\tsource: new ol.source.XYZ({\n\t\t\tattributions: ['Powered by Esri;', 'Source: Esri, Maxar, Earthstar Geographics, and the GIS User Community'],\n\t\t\tattributionsCollapsible: true,\n\t\t\turl: 'https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n\t\t\tmaxZoom: 23\n\t\t})\n\t});\n}\n\nfunction get_arcgis_hybdrid_ref_layer(is_visible) {\n\treturn new ol.layer.VectorTile({\n\t\tvisible: is_visible,\n\t\tsource: new ol.source.VectorTile({\n\t\t\tformat: new ol.format.MVT({\n\t\t\t\tlayers: ['Boundary line', 'Admin0 point', 'City small scale', 'City large scale']\n\t\t\t}),\n\t\t\turl: 'https://basemaps.arcgis.com/arcgis/rest/services/World_Basemap_v2/VectorTileServer/tile/{z}/{y}/{x}.pbf',\n\t\t}),\n\t\tstyle: function(feature, resolution) {\n\t\t\tif (feature.get('layer') == 'Admin0 point') {\n\t\t\t\treturn new ol.style.Style({\n\t\t\t\t\ttext: new ol.style.Text({\n\t\t\t\t\t\ttext: feature.get('_name'),\n\t\t\t\t\t\tfont: '14px sans-serif',\n\t\t\t\t\t\tfill: new ol.style.Fill({\n\t\t\t\t\t\t\tcolor: '#aaa',\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tstroke: new ol.style.Stroke({\n\t\t\t\t\t\t\tcolor: '#000',\n\t\t\t\t\t\t\twidth: 3\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (feature.get('layer') == 'City small scale' || feature.get('layer') == 'City large scale') {\n\t\t\t\treturn new ol.style.Style({\n\t\t\t\t\ttext: new ol.style.Text({\n\t\t\t\t\t\ttext: feature.get('_name'),\n\t\t\t\t\t\tfont: '11px sans-serif',\n\t\t\t\t\t\tfill: new ol.style.Fill({\n\t\t\t\t\t\t\tcolor: '#aaa',\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tstroke: new ol.style.Stroke({\n\t\t\t\t\t\t\tcolor: '#000',\n\t\t\t\t\t\t\twidth: 2\n\t\t\t\t\t\t}),\n\t\t\t\t\t\toffsetY: 10\n\t\t\t\t\t}),\n\t\t\t\t\timage: new ol.style.Circle({\n\t\t\t\t\t\tradius: 3,\n\t\t\t\t\t\tfill: new ol.style.Fill({\n\t\t\t\t\t\t\tcolor: '#fff'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tstroke: new ol.style.Stroke({\n\t\t\t\t\t\t\tcolor: '#000',\n\t\t\t\t\t\t\twidth: 1\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (feature.get('layer') == 'Boundary line') {\n\t\t\t\treturn new ol.style.Style({\n\t\t\t\t\tstroke: new ol.style.Stroke({\n\t\t\t\t\t\tcolor: '#aaa',\n\t\t\t\t\t\twidth: 1\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction get_arcgis_world_streetmap_layer(is_visible) {\n\treturn new ol.layer.Tile({\n\t\tvisible: is_visible,\n\t\tsource: new ol.source.XYZ({\n\t\t\tattributions: ['Powered by Esri;', 'Source: Esri, HERE, Garmin, USGS, Intermap, INCREMENT P, '\n\t\t\t\t+ 'NRCAN, Esri Japan, METI, Esri China (Hong Kong), NOSTRA, &copy; OpenStreetMap contributors, '\n\t\t\t\t+ 'and the GIS User Community'],\n\t\t\tattributionsCollapsible: true,\n\t\t\turl: 'https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}',\n\t\t\tmaxZoom: 23\n\t\t})\n\t});\n}"],
"names":["get_ol_layers","mapping_option","map_style","layers","push","get_osm_layer","get_maptiler_layer","$","show","get_arcgis_world_imagery_layer","get_arcgis_hybdrid_ref_layer","get_arcgis_world_streetmap_layer","is_visible","ol","layer","Tile","visible","source","OSM","crossOrigin","TileJSON","attributions","attributionsCollapsible","url","maptiler_key","tileSize","maxZoom","XYZ","VectorTile","format","MVT","style","feature","resolution","get","Style","text","Text","font","fill","Fill","color","stroke","Stroke","width","offsetY","image","Circle","radius"]
}
